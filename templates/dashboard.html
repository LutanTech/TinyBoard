{% extends 'base.html' %}
<title>{% block title %} Dashboard{% endblock %}</title>
{% block content %}
<link rel="stylesheet" href="../static/css/main/dshb.css">

<div class="dashboard-container">
    <div class="card student-info">
        <p class="w-100 txt-cn"> <i class="fas fa-user"></i> </p>
        <h3>Student Details</h3>
        <p><strong>ADM No:</strong> <span>{{ student.adm }}</span></p>
        <p><strong>Name:</strong> <span>{{ student.name }}</span></p>
        <p><strong>Email:</strong> <span>{{ student.email }}</span></p>
        <p><strong>Gender:</strong> <span>{{ student.st_gender }}</span></p>
        <p><strong>Primary Contact:</strong> <span>{{ student.phone1 }}</span></p>
    </div>

    <div class="card finance-info">
        <p class="w-100 txt-cn"> <i class="fas fa-dollar-sign"></i> </p>
        <h3>Finance</h3>
        <p>Total Billed: <span class="cl-bl">{{student.billed}}</span></p>
        <p>Total Paid: <span class="cl-bl">{{student.paid}}</span></p>
        <p>Total Balance: <span class="cl-bl">{{student.balance}}</span></p>
    
        <div class="progress-container">
            <div class="progress-bar" style=`width: {{ (student.paid / student.billed * 100) if student.billed > 0 else 0 }}%;`>
                {{ (student.paid / student.billed * 100) | round(2) if student.billed > 0 else 0 }}%
            </div>
        </div> 
    </div>

    <div class="card notifications">
        <p class="w-100 txt-cn"> <i class="fas fa-bell"></i> </p>
        <h3>Notifications</h3>
        <div id="notifInner"></div>
    </div>

    <div class="notifDiv ps-fx bg-b-0 t-0 b-0 r-0 l-0 none jst-cn aln-cn">
        <div class="closeBtn ps-fx pd-5 bg-w bdr-5 c-p us-none" onclick="notifAction()">&times;</div>
        <div class="notifDiv-inner flex col mg-au bg-w bdr-10 cl-b jst-cn pd-10 aln-cn">
            <div class="notification _high">
                <p class="notif-title">Areas Settling</p>
                <p class="notif-content">You are supposed to pay your fees before 5th September 2025. Failure to which, youll be send home</p>
                <p class="notif-date">12th Aug 2025</p>
                <p class="notif-regards">Finance Dept</p>
            </div>
            <div class="notification _high">
                <p class="notif-title">Areas Settling 2</p>
                <p class="notif-content">You are supposed to pay your fees before 5th September 2025. Failure to which, youll be send home</p>
                <span class="notif-date ">12th Aug 2025</span><br>
                <span class="notif-regards ">Finance Dept</span>
            </div>
        </div>
    </div>
</div>
{% endblock %}
